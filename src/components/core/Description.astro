---
interface Props {
  value: string;
  margin?: string;
  fontSize?: string;
}

const { value, margin = '1rem 0', fontSize = '0.8em' } = Astro.props as Props;
---

<div class="description">
  {value}
</div>

<style define:vars={{ margin, fontSize }}>
  .description {
    overflow: hidden;
    width: 100%;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    margin: var(--margin);
    font-size: var(--fontSize);
  }
</style>

<script>
  const desc = document.querySelector('.description') as HTMLInputElement;

  desc?.addEventListener('click', () => {
    desc.style.webkitLineClamp = 'unset';
  });
</script>
