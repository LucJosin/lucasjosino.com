---
import Divider from '@components/core/Divider.astro';
import PostCard from '@components/core/PostCard.astro';
import Title from '@components/core/Title.astro';
import Container from '@components/data/Container.astro';
import Layout from '@layouts/Layout.astro';
import { getCollection } from 'astro:content';

const posts = await getCollection('blog');
---

<Layout
  title="Blog"
  description="A minimalist developer blog with thoughts, ideas and other stuff "
  shortlink="/blog"
>
  <Container>
    <Title title="Blog" fontSize="2.5em" />
    <Divider height="1px" width="80%" />
    <div class="posts">
      {
        posts.map((post) => {
          return (
            <PostCard
              image={post.data.image}
              title={post.data.title}
              description={post.data.description}
              href={post.slug}
              publish_date={post.data.published_at}
              tags={post.data.tags}
            />
          );
        })
      }
    </div>
  </Container>
</Layout>

<style>
  .posts {
    width: 100%;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(15rem, 1fr));
    gap: 1rem;
  }
</style>
