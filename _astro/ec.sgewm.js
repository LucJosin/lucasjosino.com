function domCopy(e){let t=document.createElement("pre");Object.assign(t.style,{opacity:"0",pointerEvents:"none",position:"absolute",overflow:"hidden",left:"0",top:"0",width:"20px",height:"20px",webkitUserSelect:"auto",userSelect:"all"}),t.ariaHidden="true",t.textContent=e,document.body.appendChild(t);let o=document.createRange();o.selectNode(t);let n=getSelection();n.removeAllRanges(),n.addRange(o);let a=!1;try{a=document.execCommand("copy")}finally{n.removeAllRanges(),document.body.removeChild(t)}return a}async function clickHandler(e){let t=e.currentTarget,o=!1,n=t.dataset.code.replace(/\u007f/g,"\n");try{await navigator.clipboard.writeText(n),o=!0}catch(e){o=domCopy(n)}if(!o||t.parentNode.querySelector(".feedback"))return;let a=document.createElement("div");a.classList.add("feedback"),a.append(t.dataset.copied),t.before(a),a.offsetWidth,requestAnimationFrame((()=>a.classList.add("show")));let d=()=>!a||a.classList.remove("show"),r=()=>{!a||parseFloat(getComputedStyle(a).opacity)>0||(a.remove(),a=null)};setTimeout(d,1500),setTimeout(r,2500),t.addEventListener("blur",d),a.addEventListener("transitioncancel",r),a.addEventListener("transitionend",r)}let initButtons=e=>!e.querySelectorAll||e.querySelectorAll(".expressive-code .copy button").forEach((e=>e.addEventListener("click",clickHandler)));initButtons(document);let obs=new MutationObserver((e=>e.forEach((e=>e.addedNodes.forEach((e=>initButtons(e)))))));obs.observe(document.body,{childList:!0,subtree:!0}),document.addEventListener("astro:page-load",(()=>initButtons(document)));