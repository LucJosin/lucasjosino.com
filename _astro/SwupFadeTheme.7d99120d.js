import{e as o}from"./index.modern.d96712a8.js";class i extends o{constructor(...t){super(...t),this._addedStyleElements=[],this._addedHTMLContent=[],this._classNameAddedToElements=[],this._addClassNameToElement=()=>{this._classNameAddedToElements.forEach(e=>{Array.from(document.querySelectorAll(e.selector)).forEach(s=>{s.classList.add(`swup-transition-${e.name}`)})})}}_beforeMount(){this._originalAnimationSelectorOption=String(this.swup.options.animationSelector),this.swup.options.animationSelector='[class*="swup-transition-"]',this.swup.hooks.on("content:replace",this._addClassNameToElement)}_afterUnmount(){this.swup.options.animationSelector=this._originalAnimationSelectorOption,this._addedStyleElements.forEach(t=>{t.outerHTML="",t=null}),this._addedHTMLContent.forEach(t=>{t.outerHTML="",t=null}),this._classNameAddedToElements.forEach(t=>{Array.from(document.querySelectorAll(t.selector)).forEach(e=>{e.className.split(" ").forEach(s=>{new RegExp("^swup-transition-").test(s)&&e.classList.remove(s)})})}),this.swup.hooks.off("content:replace",this._addClassNameToElement)}applyStyles(t){const e=document.createElement("style");e.setAttribute("data-swup-theme",""),e.appendChild(document.createTextNode(t)),document.head.prepend(e),this._addedStyleElements.push(e)}applyHTML(t){const e=document.createElement("div");e.innerHTML=t,document.body.appendChild(e),this._addedHTMLContent.push(e)}addClassName(t,e){this._classNameAddedToElements.push({selector:t,name:e}),this._addClassNameToElement()}}function n(){return n=Object.assign?Object.assign.bind():function(a){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(a[s]=e[s])}return a},n.apply(this,arguments)}class r extends i{constructor(t={}){super(),this.name="SwupFadeTheme",this.defaults={mainElement:"#swup"},this.options=n({},this.defaults,t)}mount(){this.applyStyles("html{--swup-fade-theme-duration:.4s}html.is-changing .swup-transition-main{opacity:1;transition:opacity var(--swup-fade-theme-duration)}html.is-animating .swup-transition-main{opacity:0}"),this.addClassName(this.options.mainElement,"main")}}export{r as default};
